import{r as t,b as x,j as e,a as d,B as g,c as P,u as w,f as C,d as I,P as U}from"./index-501849c6.js";import{S as y,P as L,a as N}from"./ProjectAssigneeIcon-a14637b9.js";const _=({projectsData:s,user:o})=>{const[r,a]=t.useState("active"),[l,i]=t.useState([]),{showPopup:n,hidePopup:m}=x(),u=()=>{n(e(L,{},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTable.tsx",lineNumber:22,columnNumber:15},globalThis))};return t.useEffect(()=>{s&&i(s[r])},[s,r]),e(d,{children:e("div",{className:"projects-table-wrapper flex flex-col rounded-[14px] overflow-hidden",children:e("div",{className:"projects-table font-app_primary bg-[rgba(241,241,241,1)] flex ",children:[e("div",{className:"projects-table__main flex flex-col justify-between",children:[e(B,{setTabFn:c=>a(c),tab:r},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTable.tsx",lineNumber:37,columnNumber:13},globalThis),e(k,{projects:l,user:o},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTable.tsx",lineNumber:42,columnNumber:13},globalThis)]},void 0,!0,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTable.tsx",lineNumber:36,columnNumber:11},globalThis),e(y,{for:"projects-table",children:[e("div",{className:"h-full  border-l-[1px]  project-border border app_flex_center",children:e(g,{label:"New Project",clickFn:u,formStyle:"primary"},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTable.tsx",lineNumber:51,columnNumber:15},globalThis)},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTable.tsx",lineNumber:50,columnNumber:13},globalThis),e("div",{className:"h-full bg-white project-border border border-t-0  ",children:e("div",{className:"w-full h-full "},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTable.tsx",lineNumber:58,columnNumber:15},globalThis)},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTable.tsx",lineNumber:57,columnNumber:13},globalThis)]},void 0,!0,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTable.tsx",lineNumber:49,columnNumber:11},globalThis)]},void 0,!0,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTable.tsx",lineNumber:34,columnNumber:9},globalThis)},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTable.tsx",lineNumber:33,columnNumber:7},globalThis)},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTable.tsx",lineNumber:32,columnNumber:5},globalThis)},f=s=>{const[o,r]=t.useState("");return t.useLayoutEffect(()=>{let a="";switch(s.variant){case"active":a="text-orange-300";break;case"archived":a="text-indigo-300";break}r(a)},[s]),e(d,{children:e("div",{className:" app_flex_center",children:[s.variant==="archived"&&e(P.MdInventory,{className:`projects-header-icon ${o}`},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableHeader/ProjectBadge/ProjectBadge.tsx",lineNumber:25,columnNumber:42},globalThis),s.variant!=="archived"&&e(P.MdCardMembership,{className:`projects-header-icon ${o}`},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableHeader/ProjectBadge/ProjectBadge.tsx",lineNumber:26,columnNumber:42},globalThis),e("p",{children:s.label+""},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableHeader/ProjectBadge/ProjectBadge.tsx",lineNumber:28,columnNumber:9},globalThis)]},void 0,!0,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableHeader/ProjectBadge/ProjectBadge.tsx",lineNumber:24,columnNumber:7},globalThis)},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableHeader/ProjectBadge/ProjectBadge.tsx",lineNumber:23,columnNumber:5},globalThis)},B=s=>e(d,{children:[e("div",{className:"table-header bg-white text-[14px] project-border border border-r-0 uppercase",children:[e("div",{className:`header-tab-wrapper ${s.tab==="active"&&"selected"}`,onClick:()=>s.setTabFn("active"),children:e(f,{variant:"active",label:"Active projects"},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableHeader/ProjectsTableHeader.tsx",lineNumber:17,columnNumber:11},globalThis)},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableHeader/ProjectsTableHeader.tsx",lineNumber:14,columnNumber:9},globalThis),e("div",{className:`header-tab-wrapper ${s.tab==="archived"&&"selected"}`,onClick:()=>s.setTabFn("archived"),children:e(f,{variant:"archived",label:"Archived Projects"},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableHeader/ProjectsTableHeader.tsx",lineNumber:26,columnNumber:11},globalThis)},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableHeader/ProjectsTableHeader.tsx",lineNumber:23,columnNumber:9},globalThis)]},void 0,!0,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableHeader/ProjectsTableHeader.tsx",lineNumber:13,columnNumber:7},globalThis),";"]},void 0,!0,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableHeader/ProjectsTableHeader.tsx",lineNumber:12,columnNumber:5},globalThis),v=5,H=30,S=({project:s,user:o})=>{x();const r=w(),[a,l]=t.useState(!1),[i,n]=t.useState(!1),[m,u]=t.useState([]);return t.useLayoutEffect(()=>{(()=>{let b=0,p=0;s.tags.forEach((T,h)=>{b+T.length<=H&&(b+=T.length,p=h)}),u(s.tags.slice(0,p+1))})()},[s]),t.useLayoutEffect(()=>{l((o==null?void 0:o.authentication.id)===s.originalCreatorId),n((o==null?void 0:o.authentication.id)===s.managerId)},[o]),e(d,{children:e("div",{className:"project-table-item ",children:e("div",{className:" w-full h-full  py-[8px] flex flex-col justify-between bg-white project-border border  hover:border-gray-500 transition-all transition-150   rounded-[3px] ",children:[e("div",{className:"flex w-full font-[800] text-[16px] justify-between px-[10px] ",children:e("p",{className:"app_ellipsis_inline w-full ",children:s.title},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectsTableItem.tsx",lineNumber:54,columnNumber:13},globalThis)},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectsTableItem.tsx",lineNumber:53,columnNumber:11},globalThis),e("div",{className:"flex w-full flex-wrap max-h-[36px] min-h-[36px] px-[4px]   mt-[4px] mb-[8px]",children:[m.map((c,b)=>e("div",{className:`project-tag font-app_mono text-orange-600 bg-orange-200  rounded-[50px] text-[9px] uppercase\r
                  px-[6px] pt-[1px] m-[2px] h-[14px] leading-1 `,children:e("p",{className:"project-tag__label",children:c},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectsTableItem.tsx",lineNumber:64,columnNumber:17},globalThis)},b,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectsTableItem.tsx",lineNumber:60,columnNumber:15},globalThis)),s.tags.length>m.length&&e("div",{className:`project-tag font-app_mono text-orange-600 bg-orange-200  rounded-[50px] text-[9px] \r
                  px-[4px] pt-[2px] m-[1px] h-[16px] leading-1 `,children:e("p",{className:" font-[800] tracking-[-1.5px] ",children:"..."},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectsTableItem.tsx",lineNumber:72,columnNumber:17},globalThis)},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectsTableItem.tsx",lineNumber:69,columnNumber:15},globalThis)]},void 0,!0,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectsTableItem.tsx",lineNumber:58,columnNumber:11},globalThis),e("div",{className:"flex w-full font-[400] text-[12px] text-gray-500 h-[34px] italic px-[10px] ",children:e("p",{className:"app_ellipsis leading-[1.4] h-[34px]",children:s.description},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectsTableItem.tsx",lineNumber:79,columnNumber:13},globalThis)},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectsTableItem.tsx",lineNumber:78,columnNumber:11},globalThis),e("div",{className:"flex w-full justify-start  h-[24px] my-[4px] ml-[3px] px-[10px]",children:[Object.entries(s.assigneesRegistry).slice(0,v).map(([c,b],p)=>e(N,{assignee:b,tailwindStyles:"ml-[-5px]"},p+"_"+c,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectsTableItem.tsx",lineNumber:87,columnNumber:17},globalThis)),s.assignees.length>v&&e(N,{assignee:"...",tailwindStyles:"ml-[-5px]"},1e3,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectsTableItem.tsx",lineNumber:94,columnNumber:15},globalThis)]},void 0,!0,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectsTableItem.tsx",lineNumber:83,columnNumber:11},globalThis),e("div",{className:"flex w-full justify-between items-center px-[10px]",children:[e(A,{status:s.status,userIsCreator:a,userIsManager:i},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectsTableItem.tsx",lineNumber:104,columnNumber:13},globalThis),e("div",{className:"flex justify-between gap-2 min-w-[26px] ",children:e("div",{className:"action-wrapper h-[26px] w-[26px] app_flex_center rounded-[3px] bg-white hover:bg-slate-100 group transition-all transition-200 cursor-pointer ",onClick:()=>r(`/projects/${s.id}`),children:e(P.MdReadMore,{className:"h-[16px] w-[16px] font-[300] text-gray-500 group-hover:text-blue-700"},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectsTableItem.tsx",lineNumber:115,columnNumber:17},globalThis)},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectsTableItem.tsx",lineNumber:112,columnNumber:15},globalThis)},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectsTableItem.tsx",lineNumber:111,columnNumber:13},globalThis)]},void 0,!0,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectsTableItem.tsx",lineNumber:102,columnNumber:11},globalThis)]},void 0,!0,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectsTableItem.tsx",lineNumber:50,columnNumber:9},globalThis)},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectsTableItem.tsx",lineNumber:49,columnNumber:7},globalThis)},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectsTableItem.tsx",lineNumber:48,columnNumber:5},globalThis)},k=s=>e("div",{className:"table-body  ",children:s.user&&s.projects.map((o,r)=>e(S,{project:o,user:s.user},r,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableBody/ProjectsTableBody.tsx",lineNumber:14,columnNumber:11},globalThis))},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableBody/ProjectsTableBody.tsx",lineNumber:11,columnNumber:5},globalThis),A=({status:s,userIsCreator:o,userIsManager:r})=>{const[a,l]=t.useState();return t.useEffect(()=>{l(C(s).styleClasses[1])},[s]),e(d,{children:e("div",{className:"uppercase font-black text-stone-500 text-[9px] flex flex-col align-bottom min-w-[100px] min-h-[42px] max-h-[42px] justify-end",children:[o&&e("p",{children:"Created by you"},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectList/ProjectList.tsx",lineNumber:16,columnNumber:27},globalThis),r&&e("p",{className:"text-app_primary",children:"Managed by you"},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectList/ProjectList.tsx",lineNumber:17,columnNumber:27},globalThis),e("p",{className:`top-[1px] project-status-bg-${s}`,children:s},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectList/ProjectList.tsx",lineNumber:19,columnNumber:9},globalThis)]},void 0,!0,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectList/ProjectList.tsx",lineNumber:15,columnNumber:7},globalThis)},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/components/Projects/ProjectsTable/ProjectsTableItem/ProjectList/ProjectList.tsx",lineNumber:14,columnNumber:5},globalThis)};let j;const F=()=>{const{user:s,canUseAPI:o}=I(),[r,a]=t.useState({active:[],archived:[]});t.useEffect(()=>(l(),s&&o?U.listenProjectsWithAssigneesData([...s.work.projectsIds],!1,(n,m)=>{j=m,a(n)}):i(),()=>l()),[s]);const l=()=>{j&&(j(),j=void 0)},i=()=>a({active:[],archived:[]});return e(_,{projectsData:r,user:s},void 0,!1,{fileName:"C:/Users/jabed/dev/web/todo-raptor/src/app/pages/user/projects/projects-dashboard-page.tsx",lineNumber:43,columnNumber:5},globalThis)};export{F as default};
